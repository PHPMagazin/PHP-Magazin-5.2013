try {  // set up autoloader  $loader = require_once (__DIR__.'/vendor/autoload.php');  // initialize PHPCR session to Magnolia's 'dms' repository  $prm = array(    'jackalope.jackrabbit_uri' => 'http://localhost:8080/magnoliaAuthor/.davex/'  );  $creds = new \PHPCR\SimpleCredentials('superuser', 'superuser');  $repository = \Jackalope\RepositoryFactoryJackrabbit::getRepository($prm);  $website = $repository->login($creds, 'website');  $qm = $website->getWorkspace()->getQueryManager();  // get and print all the page nodes with abstracts use a JCR-SQL2 query  $sql = "SELECT * FROM [mgnl:page] WHERE ISDESCENDANTNODE('/demo-project/about')";  $query = $qm->createQuery($sql, 'JCR-SQL2');  $queryResult = $query->execute();  echo '<ul>';  foreach ($queryResult->getNodes() as $node) {    if ($node->hasProperty('title')) {      $abstract = $node->getProperty('title');      echo '<li>' . $abstract->getValue() . ': ' . $node->getPath() . '</li>';    }  }  echo '</ul>';  // clean up  // clean up  unset($website);} catch(Exception $e) {  echo $e->getTraceAsString();}
